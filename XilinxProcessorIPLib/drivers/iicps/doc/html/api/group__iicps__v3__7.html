<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iicps: Iicps_v3_7</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iicps
   </div>
   <div id="projectbrief">Xilinx SDK Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__iicps__v3__7.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Iicps_v3_7</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacfb0d8f18f8105db7708669ddb186e19"><td class="memItemLeft" align="right" valign="top">s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#gacfb0d8f18f8105db7708669ddb186e19">TransmitFifoFill</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr)</td></tr>
<tr class="memdesc:gacfb0d8f18f8105db7708669ddb186e19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put more data into the transmit FIFO, number of bytes is ether expected number of bytes for this transfer or available space in FIFO, which ever is less.  <a href="#gacfb0d8f18f8105db7708669ddb186e19">More...</a><br /></td></tr>
<tr class="separator:gacfb0d8f18f8105db7708669ddb186e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1c7ffa09df93fb59f97b0a3bf5baaa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#gad1c7ffa09df93fb59f97b0a3bf5baaa7">XIicPs_SetupSlave</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr, u16 SlaveAddr)</td></tr>
<tr class="memdesc:gad1c7ffa09df93fb59f97b0a3bf5baaa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets up the device to be a slave.  <a href="#gad1c7ffa09df93fb59f97b0a3bf5baaa7">More...</a><br /></td></tr>
<tr class="separator:gad1c7ffa09df93fb59f97b0a3bf5baaa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4478d1d94f349deda02c0191a7529113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#ga4478d1d94f349deda02c0191a7529113">XIicPs_SlaveSend</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr, u8 *MsgPtr, s32 ByteCount)</td></tr>
<tr class="memdesc:ga4478d1d94f349deda02c0191a7529113"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function setup a slave interrupt-driven send.  <a href="#ga4478d1d94f349deda02c0191a7529113">More...</a><br /></td></tr>
<tr class="separator:ga4478d1d94f349deda02c0191a7529113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1840936a940459c5a71858f94915f933"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#ga1840936a940459c5a71858f94915f933">XIicPs_SlaveRecv</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr, u8 *MsgPtr, s32 ByteCount)</td></tr>
<tr class="memdesc:ga1840936a940459c5a71858f94915f933"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function setup a slave interrupt-driven receive.  <a href="#ga1840936a940459c5a71858f94915f933">More...</a><br /></td></tr>
<tr class="separator:ga1840936a940459c5a71858f94915f933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ca49d9131b13d66f58de0b5a23faea4"><td class="memItemLeft" align="right" valign="top">s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#ga5ca49d9131b13d66f58de0b5a23faea4">XIicPs_SlaveSendPolled</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr, u8 *MsgPtr, s32 ByteCount)</td></tr>
<tr class="memdesc:ga5ca49d9131b13d66f58de0b5a23faea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends a buffer in polled mode as a slave.  <a href="#ga5ca49d9131b13d66f58de0b5a23faea4">More...</a><br /></td></tr>
<tr class="separator:ga5ca49d9131b13d66f58de0b5a23faea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74b0af9e4395c8de724dc377e3504d0d"><td class="memItemLeft" align="right" valign="top">s32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#ga74b0af9e4395c8de724dc377e3504d0d">XIicPs_SlaveRecvPolled</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr, u8 *MsgPtr, s32 ByteCount)</td></tr>
<tr class="memdesc:ga74b0af9e4395c8de724dc377e3504d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function receives a buffer in polled mode as a slave.  <a href="#ga74b0af9e4395c8de724dc377e3504d0d">More...</a><br /></td></tr>
<tr class="separator:ga74b0af9e4395c8de724dc377e3504d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga716cdb9f63e56269824866872958dd78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__iicps__v3__7.html#ga716cdb9f63e56269824866872958dd78">XIicPs_SlaveInterruptHandler</a> (<a class="el" href="struct_x_iic_ps.html">XIicPs</a> *InstancePtr)</td></tr>
<tr class="memdesc:ga716cdb9f63e56269824866872958dd78"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interrupt handler for slave mode.  <a href="#ga716cdb9f63e56269824866872958dd78">More...</a><br /></td></tr>
<tr class="separator:ga716cdb9f63e56269824866872958dd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacfb0d8f18f8105db7708669ddb186e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfb0d8f18f8105db7708669ddb186e19">&#9670;&nbsp;</a></span>TransmitFifoFill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s32 TransmitFifoFill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>Put more data into the transmit FIFO, number of bytes is ether expected number of bytes for this transfer or available space in FIFO, which ever is less. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes left for this instance.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is function is shared by master and slave. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__8.html#ga609b88168d4a0681b42005e0d402a7eb">XIICPS_FIFO_DEPTH</a>, <a class="el" href="group__iicps__v3__8.html#gabcc20fce80c1e8dff27be4e584c2cc27">XIicPs_ReadReg</a>, <a class="el" href="group__iicps__v3__8.html#ga479fe9cf74b161f574917ec20852ad1c">XIicPs_SendByte</a>, and <a class="el" href="group__iicps__v3__8.html#ga2afdc061285f0155f3fbbf322beae54f">XIICPS_TRANS_SIZE_OFFSET</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__iicps__v3__7.html#ga716cdb9f63e56269824866872958dd78">XIicPs_SlaveInterruptHandler()</a>.</p>

</div>
</div>
<a id="gad1c7ffa09df93fb59f97b0a3bf5baaa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1c7ffa09df93fb59f97b0a3bf5baaa7">&#9670;&nbsp;</a></span>XIicPs_SetupSlave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XIicPs_SetupSlave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>SlaveAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>This function sets up the device to be a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance. </td></tr>
    <tr><td class="paramname">SlaveAddr</td><td>is the address of the slave we are receiving from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Interrupt is always enabled no matter the tranfer is interrupt- driven or polled mode. Whether device will be interrupted or not depends on whether the device is connected to an interrupt controller and interrupt for the device is enabled. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, and <a class="el" href="group__iicps__v3__8.html#ga65d613d28fe2707d6e1d0fb2ea5b0d9e">XIICPS_ADDR_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="xiicps__polled__slave__example_8c.html#a3d212c39e3b863301ad32ea6e0326001">IicPsSlavePolledExample()</a>.</p>

</div>
</div>
<a id="ga716cdb9f63e56269824866872958dd78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga716cdb9f63e56269824866872958dd78">&#9670;&nbsp;</a></span>XIicPs_SlaveInterruptHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XIicPs_SlaveInterruptHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>The interrupt handler for slave mode. </p>
<p>It does the protocol handling for the interrupt-driven transfers.</p>
<p>Completion events and errors are signaled to upper layer for proper handling.</p>
<pre></pre><pre>The interrupts that are handled are:<ul>
<li><p class="startli">DATA
      If the instance is sending, it means that the master wants to read more
      data from us. Send more data, and check whether we are done with this
      send.</p>
<p class="startli">If the instance is receiving, it means that the master has writen
        more data to us. Receive more data, and check whether we are done with
      with this receive.</p>
</li>
</ul>
</pre><pre><ul>
<li><p class="startli">COMP
      This marks that stop sequence has been sent from the master, transfer
      is about to terminate. However, for receiving, the master may have
      written us some data, so receive that first.</p>
<p class="startli">It is an error if the amount of transfered data is less than expected.</p>
</li>
</ul>
</pre><pre><ul>
<li>NAK
      This marks that master does not want our data. It is for send only.</li>
</ul>
</pre><pre><ul>
<li>Other interrupts
      These interrupts are marked as error.</li>
</ul>
</pre><pre></pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__7.html#gacfb0d8f18f8105db7708669ddb186e19">TransmitFifoFill()</a>, <a class="el" href="group__iicps__v3__8.html#ga1646c08302f01007599cd95721006d35">XIICPS_EVENT_COMPLETE_SEND</a>, <a class="el" href="group__iicps__v3__8.html#ga0668ec3389dd427fecfca4d1b9d2f0c4">XIICPS_IMR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#ga9ec604e5ed330606d24a082484e905f0">XIICPS_ISR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#gaa4e9c302ebb54b53aa67ec6c9f4616a3">XIICPS_IXR_DATA_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gabcc20fce80c1e8dff27be4e584c2cc27">XIicPs_ReadReg</a>, and <a class="el" href="group__iicps__v3__8.html#gaa0bde6894589023ea8248a9d9cdc73c5">XIicPs_WriteReg</a>.</p>

</div>
</div>
<a id="ga1840936a940459c5a71858f94915f933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1840936a940459c5a71858f94915f933">&#9670;&nbsp;</a></span>XIicPs_SlaveRecv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XIicPs_SlaveRecv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>MsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>ByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>This function setup a slave interrupt-driven receive. </p>
<p>Data processing for the receive is handled by the interrupt handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance. </td></tr>
    <tr><td class="paramname">MsgPtr</td><td>is the pointer to the receive buffer. </td></tr>
    <tr><td class="paramname">ByteCount</td><td>is the number of bytes to be received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This routine is for interrupt-driven transfer only. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__8.html#gaf7a3f4b57fe275f426ac9b771b187b23">XIicPs_EnableInterrupts</a>, <a class="el" href="group__iicps__v3__8.html#ga56fefd834bba9cc03c0a84bd2a3e099a">XIICPS_IXR_COMP_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gaa4e9c302ebb54b53aa67ec6c9f4616a3">XIICPS_IXR_DATA_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga74650276000c8cc48cce610b8c6d2140">XIICPS_IXR_NACK_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga1f69893ddec793ff77b61deb51665aa5">XIICPS_IXR_RX_OVR_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga6b92f85baedcc73892a141f80afe3462">XIICPS_IXR_RX_UNF_MASK</a>, and <a class="el" href="group__iicps__v3__8.html#ga6df84833528a63b5f5fb07a7d1743c91">XIICPS_IXR_TO_MASK</a>.</p>

</div>
</div>
<a id="ga74b0af9e4395c8de724dc377e3504d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74b0af9e4395c8de724dc377e3504d0d">&#9670;&nbsp;</a></span>XIicPs_SlaveRecvPolled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s32 XIicPs_SlaveRecvPolled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>MsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>ByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>This function receives a buffer in polled mode as a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance. </td></tr>
    <tr><td class="paramname">MsgPtr</td><td>is the pointer to the receive buffer. </td></tr>
    <tr><td class="paramname">ByteCount</td><td>is the number of bytes to be received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS if everything went well.</li>
<li>XST_FAILURE if timed out.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This receive routine is for polled mode transfer only. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__8.html#ga9ec604e5ed330606d24a082484e905f0">XIICPS_ISR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#ga56fefd834bba9cc03c0a84bd2a3e099a">XIICPS_IXR_COMP_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gaa4e9c302ebb54b53aa67ec6c9f4616a3">XIICPS_IXR_DATA_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gabcc20fce80c1e8dff27be4e584c2cc27">XIicPs_ReadReg</a>, <a class="el" href="group__iicps__v3__8.html#ga432020341d6b2c06bba8a084df9b5075">XIicPs_RecvByte</a>, <a class="el" href="group__iicps__v3__8.html#ga12b4d0ee4dce6172ba78a0dec5666a72">XIICPS_SR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#gafbe8fcac03eab822b049d469485356d0">XIICPS_SR_RXDV_MASK</a>, and <a class="el" href="group__iicps__v3__8.html#gaa0bde6894589023ea8248a9d9cdc73c5">XIicPs_WriteReg</a>.</p>

</div>
</div>
<a id="ga4478d1d94f349deda02c0191a7529113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4478d1d94f349deda02c0191a7529113">&#9670;&nbsp;</a></span>XIicPs_SlaveSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XIicPs_SlaveSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>MsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>ByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>This function setup a slave interrupt-driven send. </p>
<p>It set the repeated start for the device is the tranfer size is larger than FIFO depth. Data processing for the send is initiated by the interrupt handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance. </td></tr>
    <tr><td class="paramname">MsgPtr</td><td>is the pointer to the send buffer. </td></tr>
    <tr><td class="paramname">ByteCount</td><td>is the number of bytes to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This send routine is for interrupt-driven transfer only. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__8.html#gaf7a3f4b57fe275f426ac9b771b187b23">XIicPs_EnableInterrupts</a>, <a class="el" href="group__iicps__v3__8.html#ga56fefd834bba9cc03c0a84bd2a3e099a">XIICPS_IXR_COMP_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gaa4e9c302ebb54b53aa67ec6c9f4616a3">XIICPS_IXR_DATA_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga74650276000c8cc48cce610b8c6d2140">XIICPS_IXR_NACK_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga6df84833528a63b5f5fb07a7d1743c91">XIICPS_IXR_TO_MASK</a>, and <a class="el" href="group__iicps__v3__8.html#gad2473caf4558fac9af1bd071a022e3cf">XIICPS_IXR_TX_OVR_MASK</a>.</p>

</div>
</div>
<a id="ga5ca49d9131b13d66f58de0b5a23faea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ca49d9131b13d66f58de0b5a23faea4">&#9670;&nbsp;</a></span>XIicPs_SlaveSendPolled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s32 XIicPs_SlaveSendPolled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic_ps.html">XIicPs</a> *&#160;</td>
          <td class="paramname"><em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>MsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s32&#160;</td>
          <td class="paramname"><em>ByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="xiicps__slave_8c.html">xiicps_slave.c</a>&gt;</code></p>

<p>This function sends a buffer in polled mode as a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstancePtr</td><td>is a pointer to the <a class="el" href="struct_x_iic_ps.html" title="The XIicPs driver instance data. ">XIicPs</a> instance. </td></tr>
    <tr><td class="paramname">MsgPtr</td><td>is the pointer to the send buffer. </td></tr>
    <tr><td class="paramname">ByteCount</td><td>is the number of bytes to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS if everything went well.</li>
<li>XST_FAILURE if master sends us data or master terminates the transfer before all data has sent out.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This send routine is for polled mode transfer only. </dd></dl>

<p class="reference">References <a class="el" href="group__iicps__v3__8.html#ga6809c43387826c1f50e719163d4d9d27">XIicPs_Config::BaseAddress</a>, <a class="el" href="group__iicps__v3__8.html#ga609b88168d4a0681b42005e0d402a7eb">XIICPS_FIFO_DEPTH</a>, <a class="el" href="group__iicps__v3__8.html#ga9ec604e5ed330606d24a082484e905f0">XIICPS_ISR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#ga74650276000c8cc48cce610b8c6d2140">XIICPS_IXR_NACK_MASK</a>, <a class="el" href="group__iicps__v3__8.html#gabcc20fce80c1e8dff27be4e584c2cc27">XIicPs_ReadReg</a>, <a class="el" href="group__iicps__v3__8.html#ga479fe9cf74b161f574917ec20852ad1c">XIicPs_SendByte</a>, <a class="el" href="group__iicps__v3__8.html#ga12b4d0ee4dce6172ba78a0dec5666a72">XIICPS_SR_OFFSET</a>, <a class="el" href="group__iicps__v3__8.html#gafbe8fcac03eab822b049d469485356d0">XIICPS_SR_RXDV_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga694b3781a9539f3c34b97a4d58b68efd">XIICPS_SR_RXRW_MASK</a>, <a class="el" href="group__iicps__v3__8.html#ga4ec47ab77103b89564d25650fee6132f">XIICPS_SR_TXDV_MASK</a>, and <a class="el" href="group__iicps__v3__8.html#gaa0bde6894589023ea8248a9d9cdc73c5">XIicPs_WriteReg</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2015 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
