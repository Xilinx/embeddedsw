<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>can: xcan_polled_example.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">can
   </div>
   <div id="projectbrief">Xilinx SDK Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>APIs</span></a></li>
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="pages.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xcan__polled__example_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xcan_polled_example.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div class="textblock"><p>Contains an example of how to use the <a class="el" href="struct_x_can.html" title="The XCan driver instance data.">XCan</a> driver directly. </p>
<p>The example here shows using the driver/device in polled mode.</p>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<p>The Baud Rate Prescaler Register (BRPR) and Bit Timing Register (BTR) are setup such that CAN baud rate equals 40Kbps, assuming that the the CAN clock frequency is 24MHz. The user needs to modify these values based on the desired baud rate and the CAN clock frequency. For more information see the CAN 2.0A, CAN 2.0B, ISO 11898-1 specifications.</p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who    Date       Changes
</p>
<hr/>
<p>
1.00a xd     04/12/05 First release
2.00a ktn    10/22/09 Updated driver to use the HAL APIs/macros.
                The macros have been renamed to remove _m from the name.
3.2   ms     01/23/17 Added xil_printf statement in main function to
              ensure that "Successfully ran" and "Failed" strings are
              available in all examples. This is a fix for CR-965028.
3.3   ask  08/01/18 Fixed Cppcheck and GCC warnings in can driver
</pre> </div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac374efa0fb3443930edcae5389efc426"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__polled__example_8c.html#ac374efa0fb3443930edcae5389efc426">XCanPolledExample</a> (u16 DeviceId)</td></tr>
<tr class="memdesc:ac374efa0fb3443930edcae5389efc426"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entry point for showing the <a class="el" href="struct_x_can.html" title="The XCan driver instance data.">XCan</a> driver in polled mode.  <a href="#ac374efa0fb3443930edcae5389efc426"></a><br/></td></tr>
<tr class="separator:ac374efa0fb3443930edcae5389efc426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__polled__example_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function to call the example.  <a href="#a840291bc02cba5474a4cb46a9b9566fe"></a><br/></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function to call the example. </p>
<p>This function is not included if the example is generated from the TestAppGen test tool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS if the example has completed successfully.</li>
<li>XST_FAILURE if the example has failed.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None </dd></dl>

<p>References <a class="el" href="xcan__polled__example_8c.html#ac374efa0fb3443930edcae5389efc426">XCanPolledExample()</a>.</p>

</div>
</div>
<a class="anchor" id="ac374efa0fb3443930edcae5389efc426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XCanPolledExample </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>DeviceId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The entry point for showing the <a class="el" href="struct_x_can.html" title="The XCan driver instance data.">XCan</a> driver in polled mode. </p>
<p>The example configures the device for internal loopback mode, then sends a Can frame, receives the same Can frame, and verifies the frame contents.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DeviceId</td><td>is the XPAR_CAN_&lt;instance_num&gt;_DEVICE_ID value from xparameters.h.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<p>XST_SUCCESS if successful, otherwise driver-specific error code.</p>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<p>If the device is not working correctly, this function may enter an infinite loop and will never return to the caller. </p>

<p>References <a class="el" href="group__can__v3__3.html#ga994a0b0bd9c938e99de9d7ffceb10ef3">XCan_EnterMode()</a>, <a class="el" href="group__can__v3__3.html#ga6b437133a6a2f40f56cf3c80102f5b0d">XCan_GetMode()</a>, <a class="el" href="group__can__v3__3.html#gacbd9f5e256dcbd948afe916d13bc7b35">XCan_Initialize()</a>, <a class="el" href="group__can__v3__3.html#gac2ff2f17841fcf789f5e214205aa844a">XCAN_MODE_CONFIG</a>, <a class="el" href="group__can__v3__3.html#gad11c39965154f3eeb280a07fdfcc38bc">XCAN_MODE_LOOPBACK</a>, <a class="el" href="group__can__v3__3.html#gaa18e848a6ffc670e024972ffc71b2ba8">XCan_SelfTest()</a>, <a class="el" href="group__can__v3__3.html#ga75aabbb82d96151cadfd3c26a2a285e9">XCan_SetBaudRatePrescaler()</a>, and <a class="el" href="group__can__v3__3.html#gaf60120410396727f6e9304ce9ba65980">XCan_SetBitTiming()</a>.</p>

<p>Referenced by <a class="el" href="xcan__polled__example_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2015 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
