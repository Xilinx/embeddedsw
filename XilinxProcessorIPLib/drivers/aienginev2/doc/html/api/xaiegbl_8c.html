<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>aienginev2: xaiegbl.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">aienginev2
   </div>
   <div id="projectbrief">Xilinx Vitis Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>APIs</span></a></li>
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xaiegbl_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">xaiegbl.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div class="textblock"><p>This file contains the global initialization functions for the Tile. </p>
<p>This is applicable for both the AIE tiles and Shim tiles.</p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who     Date     Changes
</p>
<hr/>
<p>
1.0   Tejus   09/24/2019  Initial creation
1.1   Tejus   10/22/2019  Enable AIE initilization
1.2   Tejus   06/09/2020  Call IO init api from XAie_CfgInitialize
1.3   Tejus   06/10/2020  Add api to change backend at runtime.
1.4   Dishita 07/28/2020  Add api to turn ECC On and Off.
1.5   Nishad  09/15/2020  Add check to validate XAie_MemCacheProp value in
                    <a class="el" href="xaiegbl_8c.html#a4401ffa18d1a9baa4be12219508c7bf9" title="This is the memory function to allocate a memory. ">XAie_MemAllocate()</a>.
</pre> </div><table class="memberdecls">
<tr class="memitem:a5647c5b9feef5d98b3e1e2988ed96885"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a5647c5b9feef5d98b3e1e2988ed96885">XAie_CfgInitialize</a> (XAie_DevInst *InstPtr, XAie_Config *ConfigPtr)</td></tr>
<tr class="memdesc:a5647c5b9feef5d98b3e1e2988ed96885"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the global initialization function for all the tiles of the AIE array The function sets up the Device Instance pointer with the appropriate values from the ConfigPtr.  <a href="#a5647c5b9feef5d98b3e1e2988ed96885">More...</a><br/></td></tr>
<tr class="separator:a5647c5b9feef5d98b3e1e2988ed96885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37d61fe4f1d8924b314e13ff0157acb"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#ae37d61fe4f1d8924b314e13ff0157acb">XAie_Finish</a> (XAie_DevInst *DevInst)</td></tr>
<tr class="memdesc:ae37d61fe4f1d8924b314e13ff0157acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the api to finish the AI enigne partition.  <a href="#ae37d61fe4f1d8924b314e13ff0157acb">More...</a><br/></td></tr>
<tr class="separator:ae37d61fe4f1d8924b314e13ff0157acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934ffe0505ae57414bf32bbcdec9dd56"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a934ffe0505ae57414bf32bbcdec9dd56">XAie_SetIOBackend</a> (XAie_DevInst *DevInst, XAie_BackendType Backend)</td></tr>
<tr class="memdesc:a934ffe0505ae57414bf32bbcdec9dd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the api to set the IO backend of the driver at runtime.  <a href="#a934ffe0505ae57414bf32bbcdec9dd56">More...</a><br/></td></tr>
<tr class="separator:a934ffe0505ae57414bf32bbcdec9dd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4401ffa18d1a9baa4be12219508c7bf9"><td class="memItemLeft" align="right" valign="top">XAie_MemInst *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a4401ffa18d1a9baa4be12219508c7bf9">XAie_MemAllocate</a> (XAie_DevInst *DevInst, u64 Size, XAie_MemCacheProp Cache)</td></tr>
<tr class="memdesc:a4401ffa18d1a9baa4be12219508c7bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to allocate a memory.  <a href="#a4401ffa18d1a9baa4be12219508c7bf9">More...</a><br/></td></tr>
<tr class="separator:a4401ffa18d1a9baa4be12219508c7bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd460aed6af1b3e318b6fe47f4d4677"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a4bd460aed6af1b3e318b6fe47f4d4677">XAie_MemFree</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:a4bd460aed6af1b3e318b6fe47f4d4677"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to free the memory.  <a href="#a4bd460aed6af1b3e318b6fe47f4d4677">More...</a><br/></td></tr>
<tr class="separator:a4bd460aed6af1b3e318b6fe47f4d4677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a8d420aef70022b75bf8e690ad2e62"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a89a8d420aef70022b75bf8e690ad2e62">XAie_MemSyncForCPU</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:a89a8d420aef70022b75bf8e690ad2e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to sync the memory for CPU.  <a href="#a89a8d420aef70022b75bf8e690ad2e62">More...</a><br/></td></tr>
<tr class="separator:a89a8d420aef70022b75bf8e690ad2e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e87efdc6fcdb7fed4eba405fdffe22"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a12e87efdc6fcdb7fed4eba405fdffe22">XAie_MemSyncForDev</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:a12e87efdc6fcdb7fed4eba405fdffe22"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to sync the memory for device.  <a href="#a12e87efdc6fcdb7fed4eba405fdffe22">More...</a><br/></td></tr>
<tr class="separator:a12e87efdc6fcdb7fed4eba405fdffe22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc4c6cf56176de8e97170765103625f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#aefc4c6cf56176de8e97170765103625f">XAie_MemGetVAddr</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:aefc4c6cf56176de8e97170765103625f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to return the virtual address of the memory instance.  <a href="#aefc4c6cf56176de8e97170765103625f">More...</a><br/></td></tr>
<tr class="separator:aefc4c6cf56176de8e97170765103625f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74726036857b817eab057c3eb2666909"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a74726036857b817eab057c3eb2666909">XAie_MemGetDevAddr</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:a74726036857b817eab057c3eb2666909"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to return the physical address of the memory instance.  <a href="#a74726036857b817eab057c3eb2666909">More...</a><br/></td></tr>
<tr class="separator:a74726036857b817eab057c3eb2666909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075b77a524721e60ed062740aafcd2e6"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a075b77a524721e60ed062740aafcd2e6">XAie_MemAttach</a> (XAie_DevInst *DevInst, XAie_MemInst *MemInst, u64 DevAddr, u64 VAddr, u64 Size, XAie_MemCacheProp Cache, u64 MemHandle)</td></tr>
<tr class="memdesc:a075b77a524721e60ed062740aafcd2e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to attach user allocated memory to the AI engine partition device instance.  <a href="#a075b77a524721e60ed062740aafcd2e6">More...</a><br/></td></tr>
<tr class="separator:a075b77a524721e60ed062740aafcd2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121689685b9815ec61d0429d094f0a23"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a121689685b9815ec61d0429d094f0a23">XAie_MemDetach</a> (XAie_MemInst *MemInst)</td></tr>
<tr class="memdesc:a121689685b9815ec61d0429d094f0a23"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the memory function to dettach user allocated memory from the AI engine partition device instance.  <a href="#a121689685b9815ec61d0429d094f0a23">More...</a><br/></td></tr>
<tr class="separator:a121689685b9815ec61d0429d094f0a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47abf0212d80f89df2384a129d6452f1"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a47abf0212d80f89df2384a129d6452f1">XAie_StartTransaction</a> (XAie_DevInst *DevInst, u32 Flags)</td></tr>
<tr class="memdesc:a47abf0212d80f89df2384a129d6452f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This api starts the execution of the driver in transaction mode.  <a href="#a47abf0212d80f89df2384a129d6452f1">More...</a><br/></td></tr>
<tr class="separator:a47abf0212d80f89df2384a129d6452f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac489ecb08aa1a37b1596f659ff67b3ef"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#ac489ecb08aa1a37b1596f659ff67b3ef">XAie_SubmitTransaction</a> (XAie_DevInst *DevInst, XAie_TxnInst *TxnInst)</td></tr>
<tr class="memdesc:ac489ecb08aa1a37b1596f659ff67b3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">This api executes all the pending IO operations stored in the command buffer.  <a href="#ac489ecb08aa1a37b1596f659ff67b3ef">More...</a><br/></td></tr>
<tr class="separator:ac489ecb08aa1a37b1596f659ff67b3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155c4aa634fc2dc34ef08f69bb2f545a"><td class="memItemLeft" align="right" valign="top">XAie_TxnInst *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#a155c4aa634fc2dc34ef08f69bb2f545a">XAie_ExportTransactionInstance</a> (XAie_DevInst *DevInst)</td></tr>
<tr class="memdesc:a155c4aa634fc2dc34ef08f69bb2f545a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This api copies an existing transaction instance and returns a copy of the instance with all the commands for users to save the commands and use them at a later point.  <a href="#a155c4aa634fc2dc34ef08f69bb2f545a">More...</a><br/></td></tr>
<tr class="separator:a155c4aa634fc2dc34ef08f69bb2f545a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5375eee3b02d55cbfa9161d8d62a27c"><td class="memItemLeft" align="right" valign="top">AieRC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xaiegbl_8c.html#ae5375eee3b02d55cbfa9161d8d62a27c">XAie_FreeTransactionInstance</a> (XAie_TxnInst *TxnInst)</td></tr>
<tr class="memdesc:ae5375eee3b02d55cbfa9161d8d62a27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This api releases the memory resources used by exported transaction instance.  <a href="#ae5375eee3b02d55cbfa9161d8d62a27c">More...</a><br/></td></tr>
<tr class="separator:ae5375eee3b02d55cbfa9161d8d62a27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5647c5b9feef5d98b3e1e2988ed96885"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_CfgInitialize </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>InstPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_Config *&#160;</td>
          <td class="paramname"><em>ConfigPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the global initialization function for all the tiles of the AIE array The function sets up the Device Instance pointer with the appropriate values from the ConfigPtr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InstPtr</td><td>- Global AIE instance structure. </td></tr>
    <tr><td class="paramname">ConfigPtr</td><td>- Global AIE configuration pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success and error code on failure</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function needs to be called before calling any other AI engine functions. After this function, as all tiles are gated after system boots, <a class="el" href="xaie__clock_8c.html#a14a59e57df836b5f1bd3742616e07173" title="This API enables clock for all the tiles passed as argument to this API. ">XAie_PmRequestTiles()</a> needs to be called before calling other functions, otherwise, other functions may access gated tiles. </dd></dl>

<p>References <a class="el" href="xaie__rsc_8c.html#aecae652a541fd2368cf0ecab4ac414e7">_XAie_RscMgrInit()</a>, and <a class="el" href="xaie__io_8c.html#ab44098508aca2f4b7ef9758473bea00b">XAie_IOInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a155c4aa634fc2dc34ef08f69bb2f545a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XAie_TxnInst* XAie_ExportTransactionInstance </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This api copies an existing transaction instance and returns a copy of the instance with all the commands for users to save the commands and use them at a later point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst</td><td>- Device instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to copy of transaction instance on success and NULL on error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The copy of the transaction instance must be explicitly freed using the XAie_FreeTransactionInstance API. If Auto flush was enabled during the creating of the initial transaction, the instance returned by this API will not have the commands that are already flushed. The transaction instance must be exported before it is submitted as the XAie_SubmitTransaction api will free all the resources associated with it. </dd></dl>

<p>References <a class="el" href="xaie__helper_8c.html#a0a19c2946773c371b5387539516056ae">_XAie_TxnExport()</a>.</p>

</div>
</div>
<a class="anchor" id="ae37d61fe4f1d8924b314e13ff0157acb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_Finish </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the api to finish the AI enigne partition. </p>
<p>It will release the occupied AI engine resource</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst</td><td>- Global AIE device instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success and error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

<p>References <a class="el" href="xaie__rsc_8c.html#a270e3b70c763f0ea4d336c41d2bfeef4">_XAie_RscMgrFinish()</a>, and <a class="el" href="xaie__helper_8c.html#abcdc87e03bb5a716d9ddc8d8b8f4de58">_XAie_TxnResourceCleanup()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5375eee3b02d55cbfa9161d8d62a27c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_FreeTransactionInstance </td>
          <td>(</td>
          <td class="paramtype">XAie_TxnInst *&#160;</td>
          <td class="paramname"><em>TxnInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This api releases the memory resources used by exported transaction instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TxnInst</td><td>- Existing Transaction instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success or error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

<p>References <a class="el" href="xaie__helper_8c.html#a1ebe826824ac1f1a38422c8db8c7f97f">_XAie_TxnFree()</a>.</p>

</div>
</div>
<a class="anchor" id="a4401ffa18d1a9baa4be12219508c7bf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XAie_MemInst* XAie_MemAllocate </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_MemCacheProp&#160;</td>
          <td class="paramname"><em>Cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to allocate a memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst,:</td><td>Device Instance </td></tr>
    <tr><td class="paramname">Size,:</td><td>Size of the memory </td></tr>
    <tr><td class="paramname">Cache,:</td><td>Buffer to be cacheable or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated memory instance.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a075b77a524721e60ed062740aafcd2e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_MemAttach </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>DevAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>VAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_MemCacheProp&#160;</td>
          <td class="paramname"><em>Cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>MemHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to attach user allocated memory to the AI engine partition device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst,:</td><td>Device Instance </td></tr>
    <tr><td class="paramname">MemInst,:</td><td>pointer to memory instance which will be filled with attached AI engine memory instance information by this function. </td></tr>
    <tr><td class="paramname">DevAddr,:</td><td>Device address of the allocated memory. It is usually the physical address of the memory. For Linux dmabuf memory, it is the offset to the start of the dmabuf. </td></tr>
    <tr><td class="paramname">VAddr,:</td><td>Virtual address of the allocated memory. For Linux dmabuf memory, it is not required, it can be NULL. Cache: Buffer is cacheable or not. MemHandle: Handle of the allocated memory. It is ignored for other backends except Linux backend. For Linux backend, it is the file descriptor of a dmabuf.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK for success, or error code for failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a121689685b9815ec61d0429d094f0a23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_MemDetach </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to dettach user allocated memory from the AI engine partition device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory Instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK for success, and error code for failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a4bd460aed6af1b3e318b6fe47f4d4677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_MemFree </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to free the memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success, Error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a74726036857b817eab057c3eb2666909"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 XAie_MemGetDevAddr </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to return the physical address of the memory instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Physical address of the memory instance.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="aefc4c6cf56176de8e97170765103625f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* XAie_MemGetVAddr </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to return the virtual address of the memory instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapped virtual address of the memory instance.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a89a8d420aef70022b75bf8e690ad2e62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_MemSyncForCPU </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to sync the memory for CPU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success, Error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a12e87efdc6fcdb7fed4eba405fdffe22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_MemSyncForDev </td>
          <td>(</td>
          <td class="paramtype">XAie_MemInst *&#160;</td>
          <td class="paramname"><em>MemInst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the memory function to sync the memory for device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MemInst,:</td><td>Memory instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success, Error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a934ffe0505ae57414bf32bbcdec9dd56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_SetIOBackend </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_BackendType&#160;</td>
          <td class="paramname"><em>Backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the api to set the IO backend of the driver at runtime. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst</td><td>- Global AIE device instance pointer. </td></tr>
    <tr><td class="paramname">Backend</td><td>- Backend IO type to switch to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success and error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

<p>References <a class="el" href="xaie__io_8c.html#a808597ee723054f8bfcf478de7f9a77a">_XAie_GetBackendPtr()</a>.</p>

</div>
</div>
<a class="anchor" id="a47abf0212d80f89df2384a129d6452f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_StartTransaction </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This api starts the execution of the driver in transaction mode. </p>
<p>All the resulting IO operations are stored in an internally managed buffer. The user has to explicitly submit the transaction for the driver to execute the IO operations to configure the device. The transaction instance allocated by this api is tied to the thread id of the executing context. SubmitTransaction api must be called from the same context with NULL for the TxnInst parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst</td><td>- Device instance pointer. </td></tr>
    <tr><td class="paramname">Flags</td><td>- Flags passed by the user. XAIE_TRANSACTION_ENABLE/DISBALE_AUTO_FLUSH</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success and error code on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the ENABLE_AUTO_FLUSH flag is set, the driver will automatically flush the transaction buffer when an API results in Read/MaskPoll/BlockWrite/BlockSet/CmdWrite/RunOp operation. If the DISABLE_AUTO_FLUSH flag is set, the driver will return an error when an API results in Read/MaskPoll/CmdWrite/RunOp operation. In both cases, the user has to call XAie_SubmitTransaction API to flush all the pending IO operations stored in the command buffer. </dd></dl>

<p>References <a class="el" href="xaie__helper_8c.html#ad693e6dae4f2badce3130dda017e118f">_XAie_Txn_Start()</a>.</p>

</div>
</div>
<a class="anchor" id="ac489ecb08aa1a37b1596f659ff67b3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AieRC XAie_SubmitTransaction </td>
          <td>(</td>
          <td class="paramtype">XAie_DevInst *&#160;</td>
          <td class="paramname"><em>DevInst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XAie_TxnInst *&#160;</td>
          <td class="paramname"><em>TxnInst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This api executes all the pending IO operations stored in the command buffer. </p>
<p>The transaction instance returned by the StartTransaction api is tied to the thread id of the executing context. If TxnInst is NULL, the transaction instance is automatically fetched using the thread id of the current context. If the TxnInst is not NULL, the transaction instance passed by the user is executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevInst</td><td>- Device instance pointer. </td></tr>
    <tr><td class="paramname">TxnInst</td><td>- Transaction instance pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>XAIE_OK on success and Error code or failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>None. </dd></dl>

<p>References <a class="el" href="xaie__helper_8c.html#a85d0a0c16d02c82efcaa7aa4024f4c0d">_XAie_Txn_Submit()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2015 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
