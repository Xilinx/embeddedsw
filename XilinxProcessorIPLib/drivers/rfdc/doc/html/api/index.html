<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>rfdc: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">rfdc
   </div>
   <div id="projectbrief">Xilinx SDK Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Overview</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>APIs</span></a></li>
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="pages.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">rfdc Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Xilinxï¿½ LogiCORE IP Zynq UltraScale+ RFSoC RF Data Converter IP core provides a configurable wrapper to allow the RF DAC and RF ADC blocks to be used in IP Integrator designs. Multiple tiles are available on each RFSoC and each tile can have a number of data converters (analog-to-digital (ADC) and digital-to-analog (DAC)). The RF ADCs can sample input frequencies up to 4 GHz at 4 GSPS with excellent noise spectral density. The RF DACs generate output carrier frequencies up to 4 GHz using the 2nd Nyquist zone with excellent noise spectral density at an update rate of 6.4 GSPS. The RF data converters also include power efficient digital down-converters (DDCs) and digital up-converters (DUCs) that include programmable interpolation and decimation, NCO and complex mixer. The DDCs and DUCs can also support dual-band operation. A maximum of 4 tiles are available on for DAC and ADC operations each. Each tile can have a maximum of 4 blocks/slices. This driver provides APIs to configure various functionalities. Similarly the driver provides APIs to read back configurations. Some of the features that the driver supports are: 1) Setting up and reading back fine mixer settings 2) Setting up and reading back coarse mixer settings 3) Reading back interpolation or decimation factors 4) Setting up and reading back QMC settings which include gain, phase etc 5) Setting up and reading back decoder mode settings 6) Setting up and reading back coarse delay settings All the APIs implemented in the driver provide appropriate range checks. An API has been provided for debug purpose which will dump all registers for a requested tile. Inline functions have also been provided to read back the parameters initially configured through the GUI.</p>
<p>There are plans to add more features, e.g. Support for multi band, PLL configurations etc.</p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who    Date     Changes
</p>
<hr/>
<p>
1.0   sk     05/16/17 Initial release
2.0   sk     08/09/17 Fixed coarse Mixer configuration settings
                      CR# 977266, 977872.
                      Return error for Slice Event on 4G ADC Block.
                      Corrected Interrupt Macro names and values.
             08/16/17 Add support for SYSREF and PL event sources.
             08/18/17 Add API to enable and disable FIFO.
             08/23/17 Add API to configure Nyquist zone.
             08/30/17 Add additional info to BlockStatus.
             08/30/17 Add support for Coarse Mixer BYPASS mode.
             08/31/17 Removed Tile Reset Assert and Deassert.
             09/07/17 Add support for negative NCO freq.
             09/15/17 Fixed NCO freq precision issue.
             09/15/17 Fixed Immediate Event source issue and also
                      updated the Immediate Macro value to 0.
2.1   sk     09/15/17 Remove Libmetal library dependency for MB.
             09/18/17 Add API to clear the interrupts.
      sk     09/21/17 Add <b>BAREMETAL</b> compiler flag option
                      for Baremetal.
      sk     09/21/17 Add support for Over voltage and Over
                      Range interrupts.
      sk     09/22/17 Add s64 typedef for Linux.
      sk     09/24/17 Fixed Get_Tile/BlockBaseAddr always
                      giving ADC related address.
      sk     09/25/17 Modified XRFdc_GetBlockStatus API to give
                      correct information and also updates the
                      description for Vector Param in intr handler
                      Add API to get Output current and removed
                      GetTermVoltage and GetOutputCurr inline functions.
2.2   sk     10/05/17 Fixed XRFdc_GetNoOfADCBlocks API for 4GSPS.
                      Enable the decoder clock based on decoder mode.
                      Add API to get the current FIFO status.
                      Updated XRFdc_DumpRegs API for better readability
                      of output register dump.
                      Add support for 4GSPS CoarseMixer frequency.
             10/11/17 Modify float types to double to increase precision.
             10/12/17 Update BlockStatus API to give current status.
                      In BYPASS mode, input datatype can be Real or IQ
                      hence checked both while reading the mixer mode.
             10/17/17 Fixed Set Threshold API Issue.
2.2   sk     10/18/17 Add support for FIFO and DATA overflow interrupt
2.3   sk     11/06/17 Fixed PhaseOffset truncation issue.
                      Provide user configurability for FineMixerScale.
             11/08/17 Return error for DAC R2C mode and ADC C2R mode.
             11/10/17 Corrected FIFO and DATA Interrupt masks.
             11/20/17 Fixed StartUp, Shutdown and Reset API for Tile_Id -1.
             11/20/17 Remove unwanted ADC block checks in 4GSPS mode.
3.0   sk     12/11/17 Added DDC and DUC support.
             12/13/17 Add CoarseMixMode field in Mixer_Settings structure.
             12/15/17 Add support to switch calibration modes.
             12/15/17 Add support for mixer frequencies &gt; Fs/2 and &lt; -Fs/2.
      sg     13/01/18 Added PLL and external clock switch support
                      Added API to get PLL lock status.
                      Added API to get clock source.
      sk     01/18/18 Add API to get driver version.
3.1   jm     01/24/18 Add Multi-tile sync support.
      sk     01/25/18 Updated Set and Get Interpolation/Decimation factor
                      API's to consider the actual factor value.
3.2   sk     02/02/18 Add API's to configure inverse-sinc.
      sk     02/27/18 Add API's to configure Multiband.
      sk     03/09/18 Update PLL structure in XRFdc_DynamicPLLConfig API.
      sk     03/09/18 Update ADC and DAC datatypes in Mixer API and use
                      input datatype for ADC in threshold and QMC APIs.
      sk     03/09/18 Removed FIFO disable check in DDC and DUC APIs.
      sk     03/09/18 Add support for Marker event source for DAC block.
      jm     03/12/18 Fixed DAC latency calculation in MTS.
      jm     03/12/18 Added support for reloading DTC scans.
      jm     03/12/18 Add option to configure sysref capture after MTS.
      sk     03/22/18 Updated PLL settings based on latest IP values.
4.0   sk     04/09/18 Added API to enable/disable the sysref.
      sk     04/09/18 Updated max VCO to 13108MHz to support max DAC
                      sample rate of 6.554MHz.
      rk     04/17/18 Adjust calculated latency by sysref period, where doing
                      so results in closer alignment to the target latency.
      sk     04/17/18 Corrected Set/Get MixerSettings API description for
                      FineMixerScale parameter.
      sk     04/19/18 Enable VCO Auto selection while configuring the clock.
      sk     04/24/18 Add API to get PLL Configurations.
      sk     04/24/18 Add API to get the Link Coupling mode.
      sk     04/28/18 Implement timeouts for PLL Lock, Startup and shutdown.
      sk     05/30/18 Removed CalibrationMode check for DAC.
      sk     06/05/18 Updated minimum Ref clock value to 102.40625MHz.
5.0   sk     06/25/18 Update DAC min sampling rate to 500MHz and also update
                      VCO Range, PLL_DIVIDER and PLL_FPDIV ranges.
                      Update PLL structure with calculated sampling rate.
      sk     06/25/18 Add <a class="el" href="group__xrfdc__v6__0.html#gaee66e0a82e88de2ca82db20b0aa869dd" title="This API is to get the divider for clock fabric out.">XRFdc_GetFabClkOutDiv()</a> API to read fabric clk div.
                      Add Inline APIs XRFdc_CheckBlockEnabled(),
                      XRFdc_CheckTileEnabled().
      sk     07/06/18 Add support to dump HSCOM regs in <a class="el" href="group__xrfdc__v6__0.html#gadfcff833fb9078071546a872f78b03a1" title="This Prints the offset of the register along with the content.">XRFdc_DumpRegs()</a> API
      sk     07/12/18 Fixed Multiband crossbar settings in C2C mode.
      sk     07/19/18 Add MixerType member to MixerSettings structure and 
                      Update Mixer Settings APIs to consider the MixerType
                      variable.
      sk     07/19/18 Add XRFdc_GetMultibandConfig() API to read Multiband
                      configuration.
      sk     07/20/18 Update the APIs to check the corresponding section
                      (Digital/Analog)enable/disable.
      sk     07/26/18 Fixed Doxygen, coverity warnings.
      sk     08/03/18 Fixed MISRAC warnings.
      sk     08/24/18 Move mixer related APIs to <a class="el" href="xrfdc__mixer_8c.html">xrfdc_mixer.c</a> file.
                      Define asserts for Linux, Re-arranged XRFdc_RestartIPSM,
                      <a class="el" href="group__xrfdc__v6__0.html#ga259ea2f270f0ce46ac06912cd7dcdfb9" title="Initializes a specific XRFdc instance such that the driver is ready to use.">XRFdc_CfgInitialize()</a> and <a class="el" href="group__rfdc__v6__0.html#gad7e3cba3e05ff50ddfe105a36f81fb80" title="User-level API to setup multiband configuration.">XRFdc_MultiBand()</a>  APIs.
                      Reorganize the code to improve readability and
                      optimization.
      mus    08/17/18 Removed structure paddings from <a class="el" href="struct_x_r_fdc___config.html" title="RFdc Config Structure.">XRFdc_Config</a> structure.
                      It has been done to have 1:1 mapping between
                      <a class="el" href="struct_x_r_fdc___config.html" title="RFdc Config Structure.">XRFdc_Config</a> structure and device tree property
                      "param-list", over linux platform.
      sk     09/24/18 Update powerup-state value based on PLL mode in
                      <a class="el" href="group__rfdc__v6__0.html#ga2390330eaf525d57a9500d298d712db1" title="This function used for dynamically switch between internal PLL and external clcok source and configur...">XRFdc_DynamicPLLConfig()</a> API.
      sk     10/10/18 Check for DigitalPath enable in <a class="el" href="group__xrfdc__v6__0.html#ga7ab226b7c257253e4976343b3744e190" title="Get the Nyquist zone.">XRFdc_GetNyquistZone()</a>
                      and <a class="el" href="group__xrfdc__v6__0.html#gaab11b20e3aadaf71a627350a447e6f98" title="This API is to get the Calibration mode.">XRFdc_GetCalibrationMode()</a> APIs for Multiband.
      sk     10/13/18 Add support to read the REFCLKDIV param from design.
                      Update XRFdc_SetPLLConfig() API to support range of
                      REF_CLK_DIV values(1 to 4).
                      Add XRFDC_MIXER_MODE_R2R option to support BYPASS mode
                      for Real input.
5.1   cog    01/29/19 Replace structure reference ADC checks with
                      function.
      cog    01/29/19 Added <a class="el" href="group__xrfdc__v6__0.html#gad6be9864ab48f0d17d713c2b9a9cab8e" title="This function is used to set the IM3 Dither mode.">XRFdc_SetDither()</a> and <a class="el" href="group__xrfdc__v6__0.html#gae00a323c43fe30c6ccc7cdde28b612f5" title="This function is used to get the IM3 Dither mode.">XRFdc_GetDither()</a> APIs.
      cog    01/29/19 Rename DataType for mixer input to MixerInputDataType
                      for readability.
      cog    01/29/19 Refactoring of interpolation and decimation APIs and
                      changed fabric rate for decimation X8 for non-high speed ADCs.
      cog    01/29/19 New inline functions to determine max &amp; min sampling rates.
6.0   cog    02/17/19 Added Inverse-Sinc Second Nyquist Zone Support
      cog    02/17/19 Added new clock Distribution functionality.
      cog    02/17/19 Refactored to improve delay balancing in clock
                      distribution.
      cog    02/17/19 Added delay calculation &amp; metal log messages.
      cog    02/17/19 Added Intratile clock settings.
      cog    02/17/19 <a class="el" href="group__rfdc__v6__0.html#gaf806aa894bd65b6fffa3fa978546f41a" title="This API is used to get the PLL Configurations.">XRFdc_GetPLLConfig()</a> now uses register values to get the
                      PLL configuration for new IPs and is no longer static.
      cog    02/17/19 Refactoring of interpolation and decimation APIs and
                      changed fabric rate for decimation X8 for non-high speed ADCs.
      cog    02/17/19 Added <a class="el" href="group__xrfdc__v6__0.html#gaa6645c553a75a5c6321035a3df183692" title="This API is to set the DAC Image Reject Filter Pass mode.">XRFdc_SetIMRPassMode()</a> and <a class="el" href="group__xrfdc__v6__0.html#gaa6645c553a75a5c6321035a3df183692" title="This API is to set the DAC Image Reject Filter Pass mode.">XRFdc_SetIMRPassMode()</a> APIs
      cog    02/17/19 Added XRFdc_SetDACMode() and XRFdc_GetDACMode() APIs
      cog    02/17/19   Added <a class="el" href="group__xrfdc__v6__0.html#gab72bb5191c688bb173b676e931dcacb2" title="This function is used to set the ADC Signal Detector Settings.">XRFdc_SetSignalDetector()</a> and <a class="el" href="group__xrfdc__v6__0.html#gaf778581f9357f82d55bb4ddd4c8936c6" title="This function is used to get the ADC Signal Detector Settings.">XRFdc_GetSignalDetector()</a> APIs
      cog    02/17/19 Added <a class="el" href="group__xrfdc__v6__0.html#gadd43c4d3f675553864148accac53099f" title="This function is used to disable Calibration Coefficients override.">XRFdc_DisableCoefficientsOverride()</a>, XRFdc_SetCalCoefficients
                      and XRFdc_GetCalCoefficients APIs.
      cog    02/19/19 New definitions for clock detection.
6.0   cog    02/20/19   Added handling for new ADC common mode over/under
                      voltage interrupts.
      cog    02/20/19   XRFdc_GetIntrStatus now populates a pointer with the
                      status and returns an error code.
      cog          02/20/19     XRFdc_IntrClr, XRFdc_IntrDisable and XRFdc_IntrEnable
                      now return error codes.
      cog    02/21/19 Added <a class="el" href="group__xrfdc__v6__0.html#gaee1e547d4a3e8316e1d5a0bc723dae72" title="This function is used to set calibration freeze settings.">XRFdc_SetCalFreeze()</a> and <a class="el" href="group__xrfdc__v6__0.html#gae6e2aadc0f82e6a454d06e5e324974e5" title="This function is used to get calibration freeze settings and status.">XRFdc_GetCalFreeze()</a> APIs
      cog    04/15/19 Rename XRFdc_SetDACMode() and XRFdc_GetDACMode() APIs to
                      <a class="el" href="group__xrfdc__v6__0.html#ga32b26582f802cbabc390adcf56f064f6" title="This API is to set the DAC Datapath mode.">XRFdc_SetDataPathMode()</a> and <a class="el" href="group__xrfdc__v6__0.html#gad0ee4a76a0f85109a41af7ef74f351f3" title="This API is to get the DAC Datapath mode.">XRFdc_GetDataPathMode()</a> respectively.</pre><pre></pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2015 Xilinx Inc. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
