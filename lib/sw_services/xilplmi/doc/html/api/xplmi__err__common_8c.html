<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>xilplmi: xplmi_err_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="HTML_custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xlogo_bg.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">xilplmi
   </div>
   <div id="projectbrief">Vitis Drivers API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="globals.html"><span>APIs</span></a></li>
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xplmi__err__common_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">xplmi_err_common.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div class="textblock"><p>This file contains error management code which is common for both versal and versal net PLM. </p>
<pre>
MODIFICATION HISTORY:</pre><pre>Ver   Who  Date        Changes
====  ==== ======== ======================================================-
1.00  kc   02/12/2019 Initial release
1.01  kc   08/01/2019 Added error management framework
      ma   08/01/2019 Added LPD init code
      sn   08/03/2019 Added code to wait until over-temperature condition
                                        gets resolved before restart
      bsv  08/29/2019 Added Multiboot and Fallback support
      scs  08/29/2019 Added support for Extended IDCODE checks
1.02  ma   05/02/2020 Remove SRST error action for PSM errors as it is
                      de-featured
      ma   02/28/2020 Error actions related changes
      bsv  04/04/2020 Code clean up
1.03  bsv  07/07/2020 Made functions used in single transaltion unit as
                                        static
      kc   08/11/2020 Added disabling and clearing of error which has actions
                      selected as subsystem shutdown or restart or custom.
                      They have to be re-enabled again using SetAction
                      command.
      bsv  09/21/2020 Set clock source to IRO before SRST for ES1 silicon
      bm   10/14/2020 Code clean up
      td   10/19/2020 MISRA C Fixes
1.04  td   01/07/2021 Fix warning in PLM memory log regarding NULL handler for
                      PMC_PSM_NCR error
      bsv  01/29/2021 Added APIs for checking and clearing NPI errors
1.05  pj   03/24/2021 Added API to update Subystem Id of the error node
      pj   03/24/2021 Added API to trigger error handling from software.
                      Added SW Error event and Ids for Healthy Boot errors
      bm   03/24/2021 Added logic to store error status in RTCA
      bl   04/01/2021 Update function signature for PmSystemShutdown
      ma   04/05/2021 Added support for error configuration using Error Mask
                      instead of Error ID. Also, added support to configure
                      multiple errors at once.
      ma   05/03/2021 Minor updates related to PSM and FW errors, trigger
                      FW_CR for PSM and FW errors which have error action
                      set as ERROR_OUT
      bsv  05/15/2021 Remove warning for AXI_WRSTRB NPI error
      ma   05/17/2021 Update only data field when writing error code to FW_ERR
                      register
      bm   05/18/2021 Ignore printing and storing of ssit errors for ES1 silicon
      td   05/20/2021 Fixed blind write on locking NPI address space in
                      XPlmi_ClearNpiErrors
1.06  ma   06/28/2021 Added handler for CPM_NCR error
      ma   07/08/2021 Fix logic in reading link down error mask value
      td   07/08/2021 Fix doxygen warnings
      bsv  07/16/2021 Fix doxygen warnings
      bsv  07/18/2021 Debug enhancements
      kc   07/22/2021 XPlmi_PorHandler scope updated to global
      ma   07/27/2021 Updated print statements in CPM handlers
      bm   08/02/2021 Change debug log level of PMC error status prints
      ma   08/06/2021 Save PMC_FW_ERR register value to RTCA and clear it
      bsv  08/15/2021 Removed unwanted goto statements
      rv   08/19/2021 Updated XPLMI_EM_ACTION_SUBSYS_RESTART error action
                handling
      ma   08/19/2021 Renamed error related macros
      ma   08/30/2021 Modified XPlmi_ErrMgr function to handle errors in
                      SSIT Slave SLRs
      bsv  10/11/2021 Added boundary check before incrementing NumErrOuts
1.07  ma   12/17/2021 Clear SSIT_ERR register during EM init
      bsv  12/24/2021 Move common defines from xilplmi and xilpm to common
                      folder
      is   01/10/2022 Updated XPlmi_SysMonOTDetect API to pass wait time arg
      is   01/10/2022 Updated Copyright Year to 2022
      ma   01/17/2022 Add exceptions to SW Errors list
      ma   01/24/2022 Check error mask registers after error action is
                      enabled or disabled
      ma   01/24/2022 Check if error action is enabled before executing the
                      handler
      ma   02/01/2022 Fix SW-BP-INIT-TO-FAILURE warnings
      ma   03/10/2022 Fix bug in disabling the error actions for PSM errors
      is   03/22/2022 Add custom handler for XPPU/XMPU error events
1.08  ma   05/10/2022 Added PLM to PLM communication feature
      ma   06/01/2022 Added PLM Print Log as new error action
      bsv  06/10/2022 Add CommandInfo to a separate section in elf
      rama 06/28/2022 Added new entries in ErrorTable to support XilSem
                      events
      bm   07/06/2022 Refactor versal and versal_net code
      ma   07/08/2022 Added support for secure lockdown
      ma   07/08/2022 Added support for executing secure lockdown when
                      Halt Boot eFuses are blown
      ma   07/19/2022 Disable interrupts before secure lockdown
      kpt  07/21/2022 Replaced secure lockdown code with function
      bm   07/22/2022 Update EAM logic for In-Place PLM Update
      bm   07/22/2022 Retain critical data structures after In-Place PLM Update
      bm   07/20/2022 Shutdown modules gracefully during update
      bm   07/24/2022 Set PlmLiveStatus during boot time
      ma   07/28/2022 Update FW_ERR register and return from XPlmi_ErrMgr if
                      secure lockdown is in progress
      ma   08/08/2022 Handle EAM errors at task level
      ma   08/08/2022 Fix SW-BP-MAGIC-NUM warning
      ma   09/02/2022 Print EAM errors only if they are enabled
      ma   09/07/2022 Print ERR number as per the register database
1.09  bsv  09/30/2022 Make XPlmi_SoftResetHandler non-static so that
                      it can be used in Image Selector
      sk   10/27/2022 Updated logic to handle invalid node id
      ng   11/11/2022 Updated doxygen comments
      bm   01/03/2023 Remove Triggering of SSIT ERR2 from Slave SLR to
                      Master SLR
      bm   01/03/2023 Create Secure Lockdown as a Critical Priority Task
      bm   01/03/2023 Notify Other SLRs about Secure Lockdown
      ng   02/07/2023 Check to skip the multiboot reg update and SRST
      bm   02/09/2023 Added support to return warnings
      ng   03/12/2023 Fixed Coverity warnings
        dd   03/28/2023 Updated doxygen comments
      ng   03/30/2023 Updated algorithm and return values in doxygen comments
1.10  bm   06/13/2023 Add API to just log PLM error
      sk   07/26/2023 Added redundant call for XPlmi_DetectSlaveSlrTamper
      sk   07/26/2023 Added redundant check in XPlmi_DetectAndHandleTamper
      sk   08/17/2023 Updated logic to handle SubsystemId for EM actions
      sk   08/18/2023 Added redundant call for XPlmi_TriggerSLDOnHaltBoot
      rama 08/30/2023 Changed EAM prints to DEBUG_ALWAYS for debug level_0 option
      mss  09/04/2023 Added Null Check for EmInit
      dd   09/12/2023 MISRA-C violation Rule 10.3 fixed
      dd   09/12/2023 MISRA-C violation Rule 17.7 fixed
</pre><dl class="section note"><dt>Note</dt><dd></dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae803d698c4a6c65a8c0dfb5db7533711"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ae803d698c4a6c65a8c0dfb5db7533711">XPlmi_LogPlmErr</a> (int ErrStatus)</td></tr>
<tr class="memdesc:ae803d698c4a6c65a8c0dfb5db7533711"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called for logging PLM error into FW_ERR register.  <a href="#ae803d698c4a6c65a8c0dfb5db7533711">More...</a><br/></td></tr>
<tr class="separator:ae803d698c4a6c65a8c0dfb5db7533711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3e91da703b2bc021df2a490f7107a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a2d3e91da703b2bc021df2a490f7107a5">XPlmi_ErrMgr</a> (int ErrStatus)</td></tr>
<tr class="memdesc:a2d3e91da703b2bc021df2a490f7107a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called in PLM error cases.  <a href="#a2d3e91da703b2bc021df2a490f7107a5">More...</a><br/></td></tr>
<tr class="separator:a2d3e91da703b2bc021df2a490f7107a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90f7507957feb59f334bd3a80fb9082"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#aa90f7507957feb59f334bd3a80fb9082">XPlmi_UpdateErrorSubsystemId</a> (u32 ErrorNodeId, u32 ErrorMasks, u32 SubsystemId)</td></tr>
<tr class="memdesc:aa90f7507957feb59f334bd3a80fb9082"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the SubystemId for the given error index.  <a href="#aa90f7507957feb59f334bd3a80fb9082">More...</a><br/></td></tr>
<tr class="separator:aa90f7507957feb59f334bd3a80fb9082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17d380eee149ea7087c40b31966ad0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ae17d380eee149ea7087c40b31966ad0e">XPlmi_PORHandler</a> (void)</td></tr>
<tr class="memdesc:ae17d380eee149ea7087c40b31966ad0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function triggers Power on Reset.  <a href="#ae17d380eee149ea7087c40b31966ad0e">More...</a><br/></td></tr>
<tr class="separator:ae17d380eee149ea7087c40b31966ad0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c7f7de813d73c37912574437578b6d"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ac2c7f7de813d73c37912574437578b6d">XPlmi_GetErrorId</a> (u32 ErrorNodeId, u32 RegMask)</td></tr>
<tr class="memdesc:ac2c7f7de813d73c37912574437578b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns Error Id for the given error node type and error mask.  <a href="#ac2c7f7de813d73c37912574437578b6d">More...</a><br/></td></tr>
<tr class="separator:ac2c7f7de813d73c37912574437578b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355b1a73bad0db21a33d23de83e3dd79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a355b1a73bad0db21a33d23de83e3dd79">XPlmi_HandleSwError</a> (u32 ErrorNodeId, u32 RegMask)</td></tr>
<tr class="memdesc:a355b1a73bad0db21a33d23de83e3dd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles the Software error triggered from within PLM.  <a href="#a355b1a73bad0db21a33d23de83e3dd79">More...</a><br/></td></tr>
<tr class="separator:a355b1a73bad0db21a33d23de83e3dd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ddc68221b03e6b495f96acb9fc2e0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a32ddc68221b03e6b495f96acb9fc2e0d">XPlmi_ErrIntrHandler</a> (void *CallbackRef)</td></tr>
<tr class="memdesc:a32ddc68221b03e6b495f96acb9fc2e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is default interrupt handler for EAM error which will add the task to the task queue.  <a href="#a32ddc68221b03e6b495f96acb9fc2e0d">More...</a><br/></td></tr>
<tr class="separator:a32ddc68221b03e6b495f96acb9fc2e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3847faa9361981c4b856e3ccd5fe959a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a3847faa9361981c4b856e3ccd5fe959a">XPlmi_ErrorTaskHandler</a> (void *Data)</td></tr>
<tr class="memdesc:a3847faa9361981c4b856e3ccd5fe959a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the interrupt handler for the EAM errors.  <a href="#a3847faa9361981c4b856e3ccd5fe959a">More...</a><br/></td></tr>
<tr class="separator:a3847faa9361981c4b856e3ccd5fe959a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39731288ebdb48e9ad35613335d2e772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a39731288ebdb48e9ad35613335d2e772">XPlmi_ErrPrintToLog</a> (u32 ErrorNodeId, u32 RegMask)</td></tr>
<tr class="memdesc:a39731288ebdb48e9ad35613335d2e772"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the interrupt handler for Error action "Print
          to Log".  <a href="#a39731288ebdb48e9ad35613335d2e772">More...</a><br/></td></tr>
<tr class="separator:a39731288ebdb48e9ad35613335d2e772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dddd782b26464205ec6c7d1bde093e"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a42dddd782b26464205ec6c7d1bde093e">EmDisableErrAction</a> (u32 ErrMaskRegAddr, u32 RegMask)</td></tr>
<tr class="memdesc:a42dddd782b26464205ec6c7d1bde093e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the error action for the given error mask.  <a href="#a42dddd782b26464205ec6c7d1bde093e">More...</a><br/></td></tr>
<tr class="separator:a42dddd782b26464205ec6c7d1bde093e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89fd2fe373a4608c6238f9b29dfad670"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a89fd2fe373a4608c6238f9b29dfad670">XPlmi_EmDisablePmcErrors</a> (u32 RegOffset, u32 RegMask)</td></tr>
<tr class="memdesc:a89fd2fe373a4608c6238f9b29dfad670"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the PMC error actions for the given mask.  <a href="#a89fd2fe373a4608c6238f9b29dfad670">More...</a><br/></td></tr>
<tr class="separator:a89fd2fe373a4608c6238f9b29dfad670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c542633bc01d451b593127419fce374"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a6c542633bc01d451b593127419fce374">XPlmi_EmDisablePsmErrors</a> (u32 RegOffset, u32 RegMask)</td></tr>
<tr class="memdesc:a6c542633bc01d451b593127419fce374"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the PSM error actions for the given mask.  <a href="#a6c542633bc01d451b593127419fce374">More...</a><br/></td></tr>
<tr class="separator:a6c542633bc01d451b593127419fce374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1ebbf8a9a571e76eec11e8e3d7fd63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable</a> (u32 ErrorNodeId, u32 RegMask)</td></tr>
<tr class="memdesc:a5b1ebbf8a9a571e76eec11e8e3d7fd63"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the responses for the given error.  <a href="#a5b1ebbf8a9a571e76eec11e8e3d7fd63">More...</a><br/></td></tr>
<tr class="separator:a5b1ebbf8a9a571e76eec11e8e3d7fd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb0b333e8d66225edf66b3473e82893"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#abfb0b333e8d66225edf66b3473e82893">XPlmi_EmConfig</a> (XPlmi_EventType NodeType, u32 ErrorId, u8 ActionId, XPlmi_ErrorHandler_t ErrorHandler, const u32 SubsystemId)</td></tr>
<tr class="memdesc:abfb0b333e8d66225edf66b3473e82893"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures the Action specified for a given Error ID.  <a href="#abfb0b333e8d66225edf66b3473e82893">More...</a><br/></td></tr>
<tr class="separator:abfb0b333e8d66225edf66b3473e82893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e363e358a8e759968bd22d9d73748e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a46e363e358a8e759968bd22d9d73748e">XPlmi_EmSetAction</a> (u32 ErrorNodeId, u32 ErrorMasks, u8 ActionId, XPlmi_ErrorHandler_t ErrorHandler, const u32 SubsystemId)</td></tr>
<tr class="memdesc:a46e363e358a8e759968bd22d9d73748e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the Action specified for a given Error Masks.  <a href="#a46e363e358a8e759968bd22d9d73748e">More...</a><br/></td></tr>
<tr class="separator:a46e363e358a8e759968bd22d9d73748e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4246e034f2676929e6b356ce682093b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ac4246e034f2676929e6b356ce682093b">XPlmi_EmInit</a> (XPlmi_ShutdownHandler_t SystemShutdown, XPlmi_RestartHandler_t SubsystemRestart)</td></tr>
<tr class="memdesc:ac4246e034f2676929e6b356ce682093b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the error module.  <a href="#ac4246e034f2676929e6b356ce682093b">More...</a><br/></td></tr>
<tr class="separator:ac4246e034f2676929e6b356ce682093b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3827194b7dbb96569c6695a73701465"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ab3827194b7dbb96569c6695a73701465">XPlmi_PsEmInit</a> (void)</td></tr>
<tr class="memdesc:ab3827194b7dbb96569c6695a73701465"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the PSM error actions.  <a href="#ab3827194b7dbb96569c6695a73701465">More...</a><br/></td></tr>
<tr class="separator:ab3827194b7dbb96569c6695a73701465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca9077220ee058916b54e926a72fd30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a0ca9077220ee058916b54e926a72fd30">XPlmi_SoftResetHandler</a> (void)</td></tr>
<tr class="memdesc:a0ca9077220ee058916b54e926a72fd30"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets clock source to IRO for ES1 silicon and resets the device.  <a href="#a0ca9077220ee058916b54e926a72fd30">More...</a><br/></td></tr>
<tr class="separator:a0ca9077220ee058916b54e926a72fd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c67f0d9eaa500e19067cff01180ef5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a61c67f0d9eaa500e19067cff01180ef5">XPlmi_TriggerFwNcrError</a> (void)</td></tr>
<tr class="memdesc:a61c67f0d9eaa500e19067cff01180ef5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets clock source to IRO for ES1 silicon and triggers FW NCR error.  <a href="#a61c67f0d9eaa500e19067cff01180ef5">More...</a><br/></td></tr>
<tr class="separator:a61c67f0d9eaa500e19067cff01180ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc6756c670a266fbeacd9ed71311048"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#aefc6756c670a266fbeacd9ed71311048">XPlmi_SetEmSubsystemId</a> (const u32 *Id)</td></tr>
<tr class="memdesc:aefc6756c670a266fbeacd9ed71311048"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets EmSubsystemId.  <a href="#aefc6756c670a266fbeacd9ed71311048">More...</a><br/></td></tr>
<tr class="separator:aefc6756c670a266fbeacd9ed71311048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b561b8635934f43862dafd99e244396"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a7b561b8635934f43862dafd99e244396">XPlmi_GetEmSubsystemId</a> (void)</td></tr>
<tr class="memdesc:a7b561b8635934f43862dafd99e244396"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns EmSubsystemId.  <a href="#a7b561b8635934f43862dafd99e244396">More...</a><br/></td></tr>
<tr class="separator:a7b561b8635934f43862dafd99e244396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8617e4086a7a814760e004ebd4c165"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#ace8617e4086a7a814760e004ebd4c165">XPlmi_CheckNpiErrors</a> (void)</td></tr>
<tr class="memdesc:ace8617e4086a7a814760e004ebd4c165"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears NPI errors.  <a href="#ace8617e4086a7a814760e004ebd4c165">More...</a><br/></td></tr>
<tr class="separator:ace8617e4086a7a814760e004ebd4c165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15030f2cfa7d29fb6c5ee40210c4c9f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xplmi__err__common_8c.html#a15030f2cfa7d29fb6c5ee40210c4c9f1">XPlmi_ClearNpiErrors</a> (void)</td></tr>
<tr class="memdesc:a15030f2cfa7d29fb6c5ee40210c4c9f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears NPI errors.  <a href="#a15030f2cfa7d29fb6c5ee40210c4c9f1">More...</a><br/></td></tr>
<tr class="separator:a15030f2cfa7d29fb6c5ee40210c4c9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a42dddd782b26464205ec6c7d1bde093e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 EmDisableErrAction </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrMaskRegAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the error action for the given error mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrMaskRegAddr</td><td>is the error action mask register address </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error to be disabled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success.</li>
<li>XPLMI_ERROR_ACTION_NOT_DISABLED if error action is not disabled. </li>
</ul>
</dd></dl>
<ul>
<li>Disable error action.</li>
<li>Check if the error action is disabled.</li>
</ul>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a89fd2fe373a4608c6238f9b29dfad670">XPlmi_EmDisablePmcErrors()</a>, <a class="el" href="xplmi__err__common_8c.html#a6c542633bc01d451b593127419fce374">XPlmi_EmDisablePsmErrors()</a>, and <a class="el" href="net_2xplmi__plat_8h.html#a14611d83f202754166c8938a5e6cc968">XPlmi_GenericHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="ace8617e4086a7a814760e004ebd4c165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_CheckNpiErrors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function clears NPI errors. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success and error code on failure </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a15030f2cfa7d29fb6c5ee40210c4c9f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_ClearNpiErrors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function clears NPI errors. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success and error code on failure </li>
</ul>
</dd></dl>
<ul>
<li>Unlock NPI address space</li>
<li>Clear ISR</li>
<li>Clear error type registers</li>
<li>Lock NPI address space </li>
</ul>

<p>References <a class="el" href="xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a9f34b42fe9b1f1a1b20833538e19f11c">XPLMI_ERR_NPI_LOCK</a>, and <a class="el" href="xplmi__util_8c.html#aa6f19eeebb4a42d17f8e2f62b01b0080">XPlmi_UtilRMW()</a>.</p>

</div>
</div>
<a class="anchor" id="abfb0b333e8d66225edf66b3473e82893"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmConfig </td>
          <td>(</td>
          <td class="paramtype">XPlmi_EventType&#160;</td>
          <td class="paramname"><em>NodeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>ActionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XPlmi_ErrorHandler_t&#160;</td>
          <td class="paramname"><em>ErrorHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u32&#160;</td>
          <td class="paramname"><em>SubsystemId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures the Action specified for a given Error ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NodeType</td><td>is the error node type </td></tr>
    <tr><td class="paramname">ErrorId</td><td>is the index of the error to which given action to be set </td></tr>
    <tr><td class="paramname">ActionId</td><td>is the action that need to be set for ErrorId. Action can be SRST/POR/ERR OUT/INT </td></tr>
    <tr><td class="paramname">ErrorHandler</td><td>If INT is defined as response, handler should be defined. </td></tr>
    <tr><td class="paramname">SubsystemId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success and error code on failure </li>
</ul>
</dd></dl>
<ul>
<li>Set error action for given error Id.</li>
<li>Enable the error action.</li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#a39731288ebdb48e9ad35613335d2e772">XPlmi_ErrPrintToLog()</a>, and <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a46e363e358a8e759968bd22d9d73748e">XPlmi_EmSetAction()</a>, and <a class="el" href="net_2xplmi__err_8h.html#a714bd9052c2b7075eebbe7dfbad3c4c0">XPlmi_ReconfigErrActions()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b1ebbf8a9a571e76eec11e8e3d7fd63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmDisable </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the responses for the given error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the node Id for the error event </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error to be disabled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success.</li>
<li>XPLMI_ERROR_ACTION_NOT_DISABLED if error action is not disabled.</li>
<li>XPLMI_INVALID_ERROR_TYPE on invalid error type. </li>
</ul>
</dd></dl>
<ul>
<li>For XPLMI_NODETYPE_ErrorNodeTypeEVENT_PMC_INDEX - Disable POR, SRST, Interrupt and PS Error Out.</li>
<li>For XPLMI_NODETYPE_EVENT_PSM_INDEX - Disable CR / NCR to PMC, Interrupt.</li>
<li>For XPLMI_NODETYPE_EVENT_SW_INDEX - Do nothing.</li>
<li>For invalid error return XPLMI_INVALID_ERROR_TYPE error code. </li>
</ul>

<p>References <a class="el" href="xplmi__err_8h.html#a164b12537e7558a54904f31d254f296d">GET_PMC_ERR_ACTION_OFFSET</a>, <a class="el" href="xplmi__err__common_8c.html#a89fd2fe373a4608c6238f9b29dfad670">XPlmi_EmDisablePmcErrors()</a>, <a class="el" href="xplmi__err__common_8c.html#a6c542633bc01d451b593127419fce374">XPlmi_EmDisablePsmErrors()</a>, and <a class="el" href="xplmi__err_8c.html#afbcb3756137ef2f51a8774b3759f676e">XPlmi_GetEventIndex()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a46e363e358a8e759968bd22d9d73748e">XPlmi_EmSetAction()</a>, <a class="el" href="xplmi__err__common_8c.html#a3847faa9361981c4b856e3ccd5fe959a">XPlmi_ErrorTaskHandler()</a>, and <a class="el" href="xplmi__err__common_8c.html#a355b1a73bad0db21a33d23de83e3dd79">XPlmi_HandleSwError()</a>.</p>

</div>
</div>
<a class="anchor" id="a89fd2fe373a4608c6238f9b29dfad670"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmDisablePmcErrors </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the PMC error actions for the given mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RegOffset</td><td>is the offset for the PMC ERR, POR ,IRQ mask,SRST mask </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error to be disabled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success.</li>
<li>XPLMI_ERROR_ACTION_NOT_DISABLED if error action is not disabled. </li>
</ul>
</dd></dl>
<ul>
<li>Disable all PMC error actions. </li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#a42dddd782b26464205ec6c7d1bde093e">EmDisableErrAction()</a>, <a class="el" href="xplmi__err_8h.html#a886a5c410cc2c3d8e1c7dd4c2ee65417">GET_PMC_ERR_OUT_MASK</a>, <a class="el" href="xplmi__err_8h.html#a94468a0b4b431fa985ff14ebe4a3202a">GET_PMC_IRQ_MASK</a>, <a class="el" href="xplmi__err_8h.html#a58d6a8f749c7b202a027d3abf2ac092f">GET_PMC_POR_MASK</a>, and <a class="el" href="xplmi__err_8h.html#a6a6938cf9a38375db7f8985ad06298bd">GET_PMC_SRST_MASK</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable()</a>, and <a class="el" href="xplmi__err__common_8c.html#ac4246e034f2676929e6b356ce682093b">XPlmi_EmInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c542633bc01d451b593127419fce374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmDisablePsmErrors </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the PSM error actions for the given mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RegOffset</td><td>is the offset for the PSM ERR1 errors </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error to be disabled</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success.</li>
<li>XPLMI_ERROR_ACTION_NOT_DISABLED if error action is not disabled. </li>
</ul>
</dd></dl>
<ul>
<li>Disable all PSM error actions. </li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#a42dddd782b26464205ec6c7d1bde093e">EmDisableErrAction()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable()</a>, <a class="el" href="net_2xplmi__plat_8h.html#a14611d83f202754166c8938a5e6cc968">XPlmi_GenericHandler()</a>, and <a class="el" href="xplmi__err__common_8c.html#ab3827194b7dbb96569c6695a73701465">XPlmi_PsEmInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4246e034f2676929e6b356ce682093b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmInit </td>
          <td>(</td>
          <td class="paramtype">XPlmi_ShutdownHandler_t&#160;</td>
          <td class="paramname"><em>SystemShutdown</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XPlmi_RestartHandler_t&#160;</td>
          <td class="paramname"><em>SubsystemRestart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the error module. </p>
<p>Disables all the error actions and registers default action.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SystemShutdown</td><td>is the pointer to the PM system shutdown callback handler for action subtype system shutdown </td></tr>
    <tr><td class="paramname">SubsystemRestart</td><td>is pointer to the PM subsystem restart with CPU idle support handler for action subtype restart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success and error code on failure </li>
</ul>
</dd></dl>
<p>Checking both Arguments for NULL, If any one of it found to be NULL Major Error Code will be returned</p>
<ul>
<li>Register Error module commands</li>
<li>Detect if we are in over-temperature condition</li>
<li>Clear SSIT_ERR register to stop error propagation to other SLRs</li>
<li>Save FW_ERR register value to RTCA and clear it</li>
<li>Disable all the Error Actions</li>
<li>Ignore SSIT Errors for Versal ES1 silicon</li>
<li>Clear the error status registers</li>
<li>Register Tamper Interrupt Handler </li>
</ul>

<p>References <a class="el" href="xplmi__err_8h.html#a164b12537e7558a54904f31d254f296d">GET_PMC_ERR_ACTION_OFFSET</a>, <a class="el" href="xplmi__plat_8h.html#ae3f459ed3b414ac713b4fa4f0e3bba68">GET_RTCFG_PMC_ERR_ADDR</a>, <a class="el" href="xplmi__err_8c.html#a7707e2ec838141c955e440eee532a868">XPlmi_ClearSsitErrors()</a>, <a class="el" href="xplmi__err__common_8c.html#a89fd2fe373a4608c6238f9b29dfad670">XPlmi_EmDisablePmcErrors()</a>, <a class="el" href="xplmi__err__common_8c.html#a46e363e358a8e759968bd22d9d73748e">XPlmi_EmSetAction()</a>, <a class="el" href="xplmi__status_8h.html#a2e39b3b0824b1911dafde398ea02b6d3a076fd89b5682ff754fff1a94bfeb8f70">XPLMI_ERR_EMINIT_INVALID_PARAM</a>, <a class="el" href="xplmi__err__common_8c.html#a3847faa9361981c4b856e3ccd5fe959a">XPlmi_ErrorTaskHandler()</a>, <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>, <a class="el" href="xplmi__task_8c.html#a5c2739a1280c0963a4e71cf84aea5204">XPlmi_GetTaskInstance()</a>, <a class="el" href="net_2xplmi__plat_8h.html#aa162fe5ce1ebcb2622bb2ccec4fcec4f">XPlmi_IsPlmUpdateDone()</a>, <a class="el" href="net_2xplmi__err_8c.html#a714bd9052c2b7075eebbe7dfbad3c4c0">XPlmi_ReconfigErrActions()</a>, <a class="el" href="xplmi__tamper_8c.html#a2f22c870cebbe3123b9eb458336bc4ed">XPlmi_RegisterTamperIntrHandler()</a>, <a class="el" href="xplmi__sysmon_8c.html#afd0b035dcdc1dd64fa8031ece952f00e">XPlmi_SysMonOTDetect()</a>, and <a class="el" href="xplmi__task_8c.html#a9a408541546aa1b8c599ce75c1f5c7d9">XPlmi_TaskCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a46e363e358a8e759968bd22d9d73748e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_EmSetAction </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorMasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>ActionId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XPlmi_ErrorHandler_t&#160;</td>
          <td class="paramname"><em>ErrorHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const u32&#160;</td>
          <td class="paramname"><em>SubsystemId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the Action specified for a given Error Masks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the node ID for the error event </td></tr>
    <tr><td class="paramname">ErrorMasks</td><td>is the error masks to which specified action to be set </td></tr>
    <tr><td class="paramname">ActionId</td><td>is the action that need to be set for ErrorMasks. Action can be SRST/POR/ERR OUT/INT </td></tr>
    <tr><td class="paramname">ErrorHandler</td><td>If INT is defined as response, handler should be defined. </td></tr>
    <tr><td class="paramname">SubsystemId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS on success.</li>
<li>XPLMI_INVALID_NODE_ID on invalid node ID.</li>
<li>XPLMI_INVALID_ERROR_ID on invalid error ID.</li>
<li>XPLMI_INVALID_ERROR_HANDLER on invalid error handler. </li>
</ul>
</dd></dl>
<ul>
<li>Check for Valid Error ID.</li>
<li>Check for Valid handler.</li>
<li>Disable the error actions for Error ID for configuring the requested error action.</li>
<li>Clear any previous errors.</li>
<li>Configure the Error Action to given Error Id.</li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#abfb0b333e8d66225edf66b3473e82893">XPlmi_EmConfig()</a>, <a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable()</a>, and <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#ac4246e034f2676929e6b356ce682093b">XPlmi_EmInit()</a>, <a class="el" href="xplmi__err__common_8c.html#ab3827194b7dbb96569c6695a73701465">XPlmi_PsEmInit()</a>, and <a class="el" href="xplmi__tamper_8h.html#a2f22c870cebbe3123b9eb458336bc4ed">XPlmi_RegisterTamperIntrHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a32ddc68221b03e6b495f96acb9fc2e0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_ErrIntrHandler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>CallbackRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is default interrupt handler for EAM error which will add the task to the task queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CallbackRef</td><td>is presently the interrupt number that is received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>
<ul>
<li>Detect Tamper in interrupt context and trigger the task which processes the tamper response</li>
<li>Check if the task is already created</li>
<li>Add the EAM task to the queue and disable interrupts at IOMODULE level</li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#a3847faa9361981c4b856e3ccd5fe959a">XPlmi_ErrorTaskHandler()</a>, <a class="el" href="xplmi__task_8c.html#a5c2739a1280c0963a4e71cf84aea5204">XPlmi_GetTaskInstance()</a>, <a class="el" href="xplmi__proc_8c.html#a9b50989f370478d03d3dea18f7b8cd13">XPlmi_PlmIntrDisable()</a>, and <a class="el" href="xplmi__task_8c.html#adbfc56f5e2b34a2bd07996a3231becb2">XPlmi_TaskTriggerNow()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d3e91da703b2bc021df2a490f7107a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_ErrMgr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ErrStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called in PLM error cases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrStatus</td><td>is the error code written to the FW_ERR register</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>
<ul>
<li>Check if SLR Type is Master or Monolithic and take error action accordingly.</li>
<li>Fallback if boot PDI is not done else just return, so that we receive next requests</li>
<li>If boot mode is jtag, donot reset. This is to keep the system state intact for further debug.</li>
<li>If Halt Boot eFuses are blown, then trigger secure lockdown. XPlmi_TriggerSLDOnHaltBoot function will run secure lockdown on domains other than PMC and triggers TAMPER_RESP_0 to ROM for running secure lockdown on PMC domain. The function will not return if eFuses are blown. If Halt Boot eFuses are not blown, update multiboot register and trigger FW NCR.</li>
<li>Update Multiboot register and perform SRST. Skip for slave boot modes.</li>
<li>If boot mode is USB or SMAP, PLM should not process remaining tasks in slave boot modes.</li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#ae803d698c4a6c65a8c0dfb5db7533711">XPlmi_LogPlmErr()</a>, <a class="el" href="xplmi__wdt_8c.html#aa4a47c5570d5ee0c85d80d71d4b66b28">XPlmi_SetPlmLiveStatus()</a>, <a class="el" href="xplmi__plat_8h.html#a9087f801d8b4329a856927b8198326f3">XPLMI_SSIT_MASTER_SLR</a>, <a class="el" href="xplmi__plat_8h.html#af7150452d8d587d941948d7aa96b42b6">XPLMI_SSIT_MONOLITIC</a>, <a class="el" href="xplmi__tamper_8h.html#a7eaaa50d8255ab922d2584fa49d05a8d">XPLMI_TRIGGER_TAMPER_IMMEDIATE</a>, <a class="el" href="xplmi__err__common_8c.html#a61c67f0d9eaa500e19067cff01180ef5">XPlmi_TriggerFwNcrError()</a>, and <a class="el" href="xplmi__tamper_8c.html#ad4eebf5b872ad3d85898142943f2b1b4">XPlmi_TriggerSLDOnHaltBoot()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err_8h.html#a713bdac07b25c74467015744419d1f2b">XPlmi_HandleLinkDownError()</a>, <a class="el" href="net_2xplmi__err_8h.html#abbe778fcdba9267e9a02ece17cd6eb28">XPlmi_HandleLinkUpEvent()</a>, and <a class="el" href="xplmi__task_8c.html#ac417102cdb74ac7c522ce119729870ff">XPlmi_TaskDispatchLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a3847faa9361981c4b856e3ccd5fe959a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_ErrorTaskHandler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>Data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is the interrupt handler for the EAM errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Data</td><td>is presently passed as NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS always. </li>
</ul>
</dd></dl>
<ul>
<li>Interrupt is selected as response for Custom, subsystem shutdown and subsystem restart actions. For these actions, error will be disabled. Agent should clear the source and enable the error again using SetAction. In SetAction, error will be cleared and enabled. For subsystem cases, during subsystem restart, error will be enabled again.</li>
<li>Clear and enable EAM errors at IOMODULE level</li>
</ul>

<p>References <a class="el" href="xplmi__err_8h.html#a164b12537e7558a54904f31d254f296d">GET_PMC_ERR_ACTION_OFFSET</a>, <a class="el" href="xplmi__err_8h.html#a94468a0b4b431fa985ff14ebe4a3202a">GET_PMC_IRQ_MASK</a>, <a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable()</a>, <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>, <a class="el" href="xplmi__proc_8c.html#a7afb3d630cbe8ab2e65abde74817eb55">XPlmi_PlmIntrClear()</a>, and <a class="el" href="xplmi__proc_8c.html#ae14df54ed318152d61bbb0edb8998dc3">XPlmi_PlmIntrEnable()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#ac4246e034f2676929e6b356ce682093b">XPlmi_EmInit()</a>, and <a class="el" href="xplmi__err__common_8c.html#a32ddc68221b03e6b495f96acb9fc2e0d">XPlmi_ErrIntrHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a39731288ebdb48e9ad35613335d2e772"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_ErrPrintToLog </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is the interrupt handler for Error action "Print
          to Log". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the node ID for the error event </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>
<ul>
<li>Print NodeId, Mask and Error ID information of the error received. </li>
</ul>

<p>References <a class="el" href="xplmi__err__common_8c.html#ac2c7f7de813d73c37912574437578b6d">XPlmi_GetErrorId()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#abfb0b333e8d66225edf66b3473e82893">XPlmi_EmConfig()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b561b8635934f43862dafd99e244396"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 XPlmi_GetEmSubsystemId </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns EmSubsystemId. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>EmSubsystemId </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ac2c7f7de813d73c37912574437578b6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 XPlmi_GetErrorId </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns Error Id for the given error node type and error mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the error node Id. </td></tr>
    <tr><td class="paramname">RegMask</td><td>is register mask of the error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ErrorId value. </dd></dl>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a39731288ebdb48e9ad35613335d2e772">XPlmi_ErrPrintToLog()</a>, and <a class="el" href="xplmi__err__common_8c.html#a355b1a73bad0db21a33d23de83e3dd79">XPlmi_HandleSwError()</a>.</p>

</div>
</div>
<a class="anchor" id="a355b1a73bad0db21a33d23de83e3dd79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_HandleSwError </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>RegMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function handles the Software error triggered from within PLM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the node ID for the error event </td></tr>
    <tr><td class="paramname">RegMask</td><td>is the register mask of the error received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

<p>References <a class="el" href="xplmi__err__common_8c.html#a5b1ebbf8a9a571e76eec11e8e3d7fd63">XPlmi_EmDisable()</a>, <a class="el" href="xplmi__err__common_8c.html#ac2c7f7de813d73c37912574437578b6d">XPlmi_GetErrorId()</a>, <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>, <a class="el" href="xplmi__err__common_8c.html#ae17d380eee149ea7087c40b31966ad0e">XPlmi_PORHandler()</a>, and <a class="el" href="xplmi__err__common_8c.html#a0ca9077220ee058916b54e926a72fd30">XPlmi_SoftResetHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="ae803d698c4a6c65a8c0dfb5db7533711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_LogPlmErr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ErrStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called for logging PLM error into FW_ERR register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrStatus</td><td>is the error code written to the FW_ERR register</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>
<ul>
<li>Print the PLM Warning</li>
<li>Print the PLM Error </li>
</ul>

<p>References <a class="el" href="xplmi__util_8c.html#aa6f19eeebb4a42d17f8e2f62b01b0080">XPlmi_UtilRMW()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__cmd_8c.html#a2a3723fdc064e5a4d8086bea79bd3a28">XPlmi_CmdExecute()</a>, <a class="el" href="net_2xplmi__status_8h.html#a2d3e91da703b2bc021df2a490f7107a5">XPlmi_ErrMgr()</a>, <a class="el" href="xplmi_8c.html#a096c3ab59b174d7abd84700c70debaa7">XPlmi_LpdInit()</a>, and <a class="el" href="xplmi__cdo_8c.html#aaa4e2fe96baa321cd17c045bffb049b5">XPlmi_ProcessCdo()</a>.</p>

</div>
</div>
<a class="anchor" id="ae17d380eee149ea7087c40b31966ad0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_PORHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function triggers Power on Reset. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

<p>References <a class="el" href="xplmi__err_8c.html#a63d49076d6d6b4d9386d82d7cd1fb0d6">XPlmi_SysmonClkSetIro()</a>, and <a class="el" href="xplmi__util_8c.html#aa6f19eeebb4a42d17f8e2f62b01b0080">XPlmi_UtilRMW()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a355b1a73bad0db21a33d23de83e3dd79">XPlmi_HandleSwError()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3827194b7dbb96569c6695a73701465"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XPlmi_PsEmInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the PSM error actions. </p>
<p>Disables all the PSM error actions and registers default action.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>XST_SUCCESS always. </li>
</ul>
</dd></dl>
<ul>
<li>Disable all the Error Actions.</li>
<li>Clear the error status registers.</li>
<li>Set the default actions as defined in the Error table.</li>
</ul>

<p>References <a class="el" href="xplmi__plat_8h.html#a75719e359c2894c38d547b6bcea8c3d4">GET_RTCFG_PSM_ERR_ADDR</a>, <a class="el" href="xplmi__err__common_8c.html#a6c542633bc01d451b593127419fce374">XPlmi_EmDisablePsmErrors()</a>, <a class="el" href="xplmi__err__common_8c.html#a46e363e358a8e759968bd22d9d73748e">XPlmi_EmSetAction()</a>, and <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>.</p>

<p>Referenced by <a class="el" href="xplmi_8c.html#a096c3ab59b174d7abd84700c70debaa7">XPlmi_LpdInit()</a>.</p>

</div>
</div>
<a class="anchor" id="aefc6756c670a266fbeacd9ed71311048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_SetEmSubsystemId </td>
          <td>(</td>
          <td class="paramtype">const u32 *&#160;</td>
          <td class="paramname"><em>Id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets EmSubsystemId. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Id</td><td>pointer to set the EmSubsystemId</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a0ca9077220ee058916b54e926a72fd30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_SoftResetHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets clock source to IRO for ES1 silicon and resets the device. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

<p>References <a class="el" href="xplmi__err_8c.html#a63d49076d6d6b4d9386d82d7cd1fb0d6">XPlmi_SysmonClkSetIro()</a>.</p>

<p>Referenced by <a class="el" href="xplmi__err__common_8c.html#a355b1a73bad0db21a33d23de83e3dd79">XPlmi_HandleSwError()</a>.</p>

</div>
</div>
<a class="anchor" id="a61c67f0d9eaa500e19067cff01180ef5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_TriggerFwNcrError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets clock source to IRO for ES1 silicon and triggers FW NCR error. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

<p>References <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>, <a class="el" href="xplmi__err_8c.html#a63d49076d6d6b4d9386d82d7cd1fb0d6">XPlmi_SysmonClkSetIro()</a>, and <a class="el" href="xplmi__util_8c.html#aa6f19eeebb4a42d17f8e2f62b01b0080">XPlmi_UtilRMW()</a>.</p>

<p>Referenced by <a class="el" href="net_2xplmi__status_8h.html#a2d3e91da703b2bc021df2a490f7107a5">XPlmi_ErrMgr()</a>.</p>

</div>
</div>
<a class="anchor" id="aa90f7507957feb59f334bd3a80fb9082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPlmi_UpdateErrorSubsystemId </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ErrorMasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>SubsystemId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the SubystemId for the given error index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ErrorNodeId</td><td>is the node Id for the error event </td></tr>
    <tr><td class="paramname">ErrorMasks</td><td>is the Register mask of the Errors </td></tr>
    <tr><td class="paramname">SubsystemId</td><td>is the Subsystem ID for the error node.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>None </li>
</ul>
</dd></dl>

<p>References <a class="el" href="xplmi__err_8c.html#aef3197ec67e77c5ad5c3596ddeec7782">XPlmi_GetErrorTable()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
	<p class="footer">&copy; Copyright 2015-2022 Xilinx, Inc. All Rights Reserved.</p>
	<p class="footer">&copy; Copyright 2022-2023 Advanced Micro Devices, Inc. All Rights Reserved.</p>
</div>
</body>
</html>
